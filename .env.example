# ==============================================
# SMC-NotificationService Environment Variables
# ==============================================
# Скопируйте этот файл в .env и измените значения по необходимости
#
# ВАЖНО:
# - Для локальной разработки используйте значения по умолчанию
# - Для Docker окружения измените DB_HOST=postgres и DB_PORT=5432
# - Переменные окружения ПЕРЕОПРЕДЕЛЯЮТ значения из config.toml
#
# ==============================================

# ======================
# Database Configuration
# ======================
# PostgreSQL настройки подключения

# Хост базы данных
# Локально: localhost
# Docker: postgres (имя сервиса из docker-compose.yml)
DB_HOST=postgres

# Порт базы данных
# Локально: 5440 (внешний порт из docker-compose.yml)
# Docker: 5432 (внутренний порт контейнера)
DB_PORT=5432

# Имя пользователя базы данных
DB_USER=postgres

# Пароль базы данных
DB_PASSWORD=postgres

# Имя базы данных
DB_NAME=smc_notificationservice

# SSL режим подключения (disable, require, verify-ca, verify-full)
DB_SSLMODE=disable

# ======================
# Server Configuration
# ======================

# HTTP порт сервера
HTTP_PORT=8085

# ======================
# Logs Configuration
# ======================

# Уровень логирования (debug, info, warn, error)
LOG_LEVEL=info

# Путь к файлу логов
# Локально: ./logs/app.log
# Docker: /app/logs/app.log
LOG_FILE=/app/logs/app.log

# ======================
# Примеры конфигураций
# ======================

# Для локальной разработки (без Docker):
# DB_HOST=localhost
# DB_PORT=5436
# LOG_FILE=./logs/app.log

# Для Docker окружения (по умолчанию):
# DB_HOST=postgres
# DB_PORT=5432
# LOG_FILE=/app/logs/app.log

# Для production окружения:
# DB_HOST=your-production-db-host.com
# DB_PORT=5432
# DB_USER=your-production-user
# DB_PASSWORD=your-strong-password
# DB_NAME=smk_sellerservice_prod
# DB_SSLMODE=require
# LOG_LEVEL=warn

# ======================
# Metrics Configuration
# ======================

# Включить сбор метрик Prometheus (true/false)
METRICS_ENABLED=true

# Путь для Prometheus метрик
METRICS_PATH=/metrics

# Имя сервиса для меток в метриках
METRICS_SERVICE_NAME=notificationservice


# ======================
# Telegram Bot API
# ======================

# Токен Telegram бота (получить у @BotFather)
TELEGRAM_BOT_TOKEN=

# URL для webhook (опционально, если используется webhook вместо long polling)
# Локально: оставьте пустым
# Production: https://your-domain.com/webhook/telegram
TELEGRAM_WEBHOOK_URL=

# Таймаут запросов к Telegram API (секунды)
TELEGRAM_API_TIMEOUT=10


# ======================
# External Services Integration
# ======================

# UserService URL
# Локально: http://localhost:8080
# Docker: http://host.docker.internal:8080
USERSERVICE_URL=http://localhost:8080

# UserService timeout в секундах
USERSERVICE_TIMEOUT=10


# ======================
# Worker Configuration
# ======================

# Интервал polling для pending уведомлений (секунды)
WORKER_PROCESSOR_INTERVAL=30

# Размер батча для обработки уведомлений
WORKER_PROCESSOR_BATCH_SIZE=50
